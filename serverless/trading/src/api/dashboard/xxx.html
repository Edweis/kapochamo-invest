<!doctype html> <html lang=en> <head> <meta charset=utf-8> <meta name=viewport content=\"width=device-width,initial-scale=1\"> <meta name=description content=\"Dashoard for Kapochamo-invest status\"> <title>Kapochamo Dashboard</title> <link rel=stylesheet href=https://unpkg.com/purecss@2.0.3/build/pure-min.css> <link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css> <style>body{color:#333}a{text-decoration:none;color:#1b98f8}.primary-button,.secondary-button{-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;border-radius:20px}.primary-button{color:#fff;background:#1b98f8;margin:1em 0}.secondary-button{background:#fff;border:1px solid #ddd;color:#666;padding:.5em 2em;font-size:80%}#title>h1{letter-spacing:0;margin:16px auto;text-align:center}#layout,#list,#main,#nav{margin:0;padding:0}#nav{width:100%;height:40px;position:relative;background:#252a3a;text-align:center}#nav .nav-menu-button{display:block;top:.5em;right:.5em;position:absolute}#nav.active{height:80%}.nav-inner{display:none}#nav.active .nav-inner{display:block;padding:2em 0}#nav .pure-menu{background:0 0;border:none;text-align:left}#nav .pure-menu-link.selected,#nav .pure-menu-link:focus,#nav .pure-menu-link:hover{background:#373c5a}#nav .pure-menu-link{color:#fff;margin-left:.5em}#nav .pure-menu-heading{border-bottom:none;font-size:110%;color:#4b7197}.email-count{color:#4b7197}.email-item{padding:.9em 1em;border-bottom:1px solid #ddd;border-left:6px solid transparent}.email-avatar{border-radius:3px;margin-right:.5em}.email-name,.email-subject{margin:0}.email-name{text-transform:uppercase;color:#999}.email-desc{font-size:80%;margin:.4em 0}@media (min-width:40em){div#layout{padding-left:500px;position:relative}#list,#nav{position:fixed;top:0;bottom:0;overflow:auto}#nav{margin-left:-500px;width:150px;height:100%}.nav-inner{display:block;padding:2em 0}#nav .nav-menu-button{display:none}#list{margin-left:-350px;width:100%;border-bottom:1px solid #ddd}#main{position:fixed;top:33%;right:0;bottom:0;left:150px;overflow:auto;width:auto}}@media (min-width:60em){div#list{margin-left:-350px;height:100%;border-right:1px solid #ddd}#main{position:static;margin:0;padding:0}}</style> </head> <body> <div id=layout class=\"content pure-g\"> <div id=nav class=pure-u> <a href=# class=nav-menu-button>Menu</a> <div class=nav-inner> <div class=pure-menu> <ul class=pure-menu-list> <li class=pure-menu-heading>Menu</li> <li class=pure-menu-item><a href=# class=\"pure-menu-link selected\">Timeline <span id=event-count class=email-count></span></a></li> <li class=pure-menu-item><a href=# class=pure-menu-link>Inspect Symbol</a></li> </ul> </div> <button class=\"primary-button pure-button\">Run something</button> </div> </div> <div id=list class=pure-u-1> <div id=title><h1>Kapochamo Invest Dashboard</h1></div> </div> </div> </body> <script> // constants\nconst EVENT_TYPES = { BUY: 'BUY', SELL: 'SELL', NEWS: 'NEWS' };\nconst eventIconMap = {\n  BUY: `\n  <span style=\"font-size: 32px; color: darkgreen; margin:auto;\">\n    <i class=\"fas fa-arrow-alt-circle-right\"></i>\n  </span>\n`,\n  SELL: `\n  <span style=\"font-size: 32px; color: darkred; margin:auto;\">\n    <i class=\"fas fa-arrow-alt-circle-left\"></i>\n  </span>\n`,\n  NEWS: `\n  <span style=\"font-size: 32px; color: darkblue; margin:auto;\">\n    <i class=\"fas fa-info\"></i>\n  </span>\n`,\n};\n\nconst getKapoLink = event => {\n  if (event.link != null) return event.link;\n  const { timestamp } = event;\n  const symbol = event.baseAsset + event.quoteAsset;\n  return `https://api.kapochamo.com/view?time=${timestamp}&symbol=${symbol}`;\n};\n\nconst getBinanceLink = event => {\n  if (event.link != null) return event.link;\n  return `https://www.binance.com/en/trade/${event.baseAsset}_${event.quoteAsset}`\n}\n\nconst getEventName = event => {\n  switch (event.type) {\n    case EVENT_TYPES.BUY:\n      return `Bought ${event.baseAsset}/${event.quoteAsset}`;\n    case EVENT_TYPES.SELL:\n      const sign = event.variation > 0 ? '+' : '';\n      const variation = event.variation.toFixed(3);\n      return `Sold ${event.baseAsset}/${event.quoteAsset} ${sign} ${variation}%`;\n    case EVENT_TYPES.NEWS:\n      return 'News Caught';\n    default:\n      console.error(event);\n      throw Error(`Type ${event.type} not found.`);\n  }\n};\n\nconst renderEvents = events =>\n  events.forEach(event => {\n    const node = document.createElement('div');\n    node.classList.add('email-item');\n    node.classList.add('pure-g');\n    const date = new Date(event.timestamp).toISOString();\n    node.innerHTML = `\n    <div class=\"pure-u-1-12\" style=\"display:flex;\">\n      ${eventIconMap[event.type]}\n    </div>\n    <div class=\"pure-u\">\n      <h5 class=\"email-name\">${date}</h5>\n      <h4 class=\"email-subject\">${getEventName(event)}</h4>\n      <p class=\"email-desc\">\n      ${event.content}\n       - <a href=\"${getKapoLink(event)}\" target=\"_blank\">Chart</a>\n       - <a href=\"${getBinanceLink(event)}\" target=\"_blank\">Live</a>\n      </p>\n    </div>`;\n    document.querySelector('#list').appendChild(node);\n  });\n\n  // actions\n  const events = [{\"url\":\"https://www.binance.com/en/support/articles/47f0bee67b6b4259a7fb03a7c9d1e22a\",\"timestamp\":1591701425877,\"title\":\"BAND Mainnet Deposits & Withdrawals Now Supported on Binance\",\"symbolsTraded\":[\"BANDUSDT\",\"BNBUSDT\"]},{\"type\":\"BUY\",\"timestamp\":1591701427005,\"quoteAsset\":\"USDT\",\"baseAsset\":\"BAND\",\"variation\":null,\"content\":\"Bought 29.99158600 USDT <i class=\\\"fas fa-arrow-right\\\"></i> 18.47000000 BAND\"},{\"type\":\"BUY\",\"timestamp\":1591701429027,\"quoteAsset\":\"USDT\",\"baseAsset\":\"BNB\",\"variation\":null,\"content\":\"Bought 29.89042100 USDT <i class=\\\"fas fa-arrow-right\\\"></i> 1.73000000 BNB\"},{\"type\":\"SELL\",\"timestamp\":1591701820756,\"quoteAsset\":\"USDT\",\"baseAsset\":\"BAND\",\"variation\":-2.069220347333422,\"content\":\"Sold 29.37099400 USDT <i class=\\\"fas fa-arrow-left\\\"></i> 18.47000000 BAND\"},{\"type\":\"SELL\",\"timestamp\":1591702266680,\"quoteAsset\":\"USDT\",\"baseAsset\":\"BNB\",\"variation\":-0.14180128142055762,\"content\":\"Sold 29.84803600 USDT <i class=\\\"fas fa-arrow-left\\\"></i> 1.73000000 BNB\"},{\"url\":\"https://www.binance.com/en/support/articles/3233a3d53d6049a593e5b9dfa71c46f7\",\"timestamp\":1591707666233,\"title\":\"Trade ONT to Win $50,000 in ONT Tokens & $15,000 in Binance Futures Vouchers!\",\"symbolsTraded\":[\"ONTUSDT\",\"ONTUSDT\",\"BNBUSDT\"]}]; </script> </html>
